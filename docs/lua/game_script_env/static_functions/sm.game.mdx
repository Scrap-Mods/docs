---
sidebar_position: 21
title: sm.game
hide_title: true
sidebar-label: 'sm.game'
---

<br></br>

## sm.game

Used to check and control the state of the game.

## Functions

### bindChatCommand

```lua
sm.game.bindChatCommand( command, params, callback, help )
```

Binds a chat command to a callback function. <br></br>
The callback function receives an array of parameters. <br></br>
The first object in it is the name of the command itself, <br></br>
the others are the extra parameters defined when registering the command.

<strong>Arguments:</strong> <br></br>

- <code>command</code> [<strong> string </strong>]: The name of the command. Must start with a <code>/</code>.
- <code>params</code> [<strong> table </strong>]: The array with extra command parameters. See table structure below.
- <code>callback</code> [<strong> string </strong>]: The name of the callback function.
- <code>help</code> [<strong> string </strong>]: Text to be displayed when using /help on the command.

```lua title="'Params' Table Structure"
{
	--First parameter
	{
		"int",			--The parameter type. Can be "bool", "int", "number" and "string"
		"firstCommand",	--The command name shown when using /help on the command. Defaults to automatic naming ("p1", "p2", ...)
		false			--Whether the parameter is optional or not. Defaults to false (is optional).
	},

	--Second parameter
	{
		"number",
		"secondCommand",
		true
	}

	--etc.
}
```

---

### getCurrentTick

```lua
sm.game.getCurrentTick()
```

Returns the current game tick.

<strong>Returns:</strong> <br></br>

- [<strong> int </strong>]: The tick.

---

### getDifficulty

```lua
sm.game.getDifficulty()
```

Returns the current game difficulty level.

<strong>Returns:</strong> <br></br>

- [<strong> int </strong>]: The difficulty.

---

### getEnableAggro

```lua
sm.game.getEnableAggro()
```

Returns whether aggro is enabled.

<strong>Returns:</strong> <br></br>

- [<strong> bool </strong>]: The aggro state (true = enabled, false = disabled).

---

### getEnableAmmoConsumption

```lua
sm.game.getEnableAmmoConsumption()
```

Returns whether ammo consumption is enabled.

<strong>Returns:</strong> <br></br>

- [<strong> bool </strong>]: The ammo consumption state (true = enabled, false = disabled).

---

### getEnableFuelConsumption

```lua
sm.game.getEnableFuelConsumption()
```

Returns whether fuel consumption is enabled.

<strong>Returns:</strong> <br></br>

- [<strong> bool </strong>]: The fuel consumption state (true = enabled, false = disabled).

---

### getEnableRestrictions

```lua
sm.game.getEnableRestrictions()
```

Returns whether restrictions are enabled.

<strong>Returns:</strong> <br></br>

- [<strong> bool </strong>]: The restriction state (true = enabled, false = disabled).

---

### getEnableUpgrade

```lua
sm.game.getEnableUpgrade()
```

Returns whether upgrading is enabled.

<strong>Returns:</strong> <br></br>

- [<strong> bool </strong>]: The upgrading state (true = enabled, false = disabled).

---

### getLimitedInventory

```lua
sm.game.getLimitedInventory()
```

Returns whether limited inventory is enabled.

<strong>Returns:</strong> <br></br>

- [<strong> bool </strong>]: The inventory state (true = limited, false = unlimited).

---

### getServerTick

```lua
sm.game.getServerTick()
```

Returns the estimated game tick on the server.

<strong>Returns:</strong> <br></br>

- [<strong> int </strong>]: The tick.

---

### getTimeOfDay

```lua
sm.game.getTimeOfDay()
```

Return the fraction value of how far the current day has progressed

<strong>Returns:</strong> <br></br>

- [<strong> number </strong>]: The fraction of the day cycle.

---

### setEnableAggro

```lua
sm.game.setEnableAggro( state )
```
<code>Server-Only</code> <br></br>

Sets the aggro state. If true, players will be detected as targets by enemies.

<strong>Arguments:</strong> <br></br>

- <code>state</code> [<strong> bool </strong>]: The aggro state.

---

### setEnableAmmoConsumption

```lua
sm.game.setEnableAmmoConsumption( state )
```
<code>Server-Only</code> <br></br>

Sets the ammo consumption state. If true, guns require ammo to shoot.

<strong>Arguments:</strong> <br></br>

- <code>state</code> [<strong> bool </strong>]: The ammo consumption state.

---

### setEnableFuelConsumption

```lua
sm.game.setEnableFuelConsumption( state )
```
<code>Server-Only</code> <br></br>

Sets the fuel consumption state. If true, engines require fuel to shoot.

<strong>Arguments:</strong> <br></br>

- <code>state</code> [<strong> bool </strong>]: The fuel consumption state.

---

### setEnableRestrictions

```lua
sm.game.setEnableRestrictions( state )
```
<code>Server-Only</code> <br></br>

Sets the restriction state. If true, restrictions will apply to the world.

<strong>Arguments:</strong> <br></br>

- <code>state</code> [<strong> bool </strong>]: The restriction state.

---

### setEnableUpgrade

```lua
sm.game.setEnableUpgrade( state )
```
<code>Server-Only</code> <br></br>

Sets the upgrading state. If true, interactables can be upgraded using component kits.

<strong>Arguments:</strong> <br></br>

- <code>state</code> [<strong> bool </strong>]: The upgrading state.

---

### setLimitedInventory

```lua
sm.game.setLimitedInventory( state )
```
<code>Server-Only</code> <br></br>

Sets the inventory state. If true, the inventory is limited.

<strong>Arguments:</strong> <br></br>

- <code>state</code> [<strong> bool </strong>]: The inventory state.

---

### setTimeOfDay

```lua
sm.game.setTimeOfDay( time )
```
<code>Client-Only</code> <br></br>

Sets the fraction value of how far the current day has progressed.

<strong>Arguments:</strong> <br></br>

- <code>time</code> [<strong> number </strong>]: The fraction of the day cycle.

---







