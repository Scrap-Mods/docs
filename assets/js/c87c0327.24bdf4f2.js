"use strict";(self.webpackChunkscrap_docs=self.webpackChunkscrap_docs||[]).push([[9374],{9887:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>c,contentTitle:()=>i,default:()=>a,frontMatter:()=>t,metadata:()=>l,toc:()=>h});var d=n(4848),s=n(8453);const t={title:"02 - Server Info"},i="Server Info",l={id:"networking/Packets/server-info",title:"02 - Server Info",description:"This is sent by the client after being accepted by the server. It contains information about the server, such as the world seed, the current game tick, and the enabled mods.",source:"@site/docs/networking/Packets/02-server-info.mdx",sourceDirName:"networking/Packets",slug:"/networking/Packets/server-info",permalink:"/docs/networking/Packets/server-info",draft:!1,unlisted:!1,editUrl:"https://pr.new/github.com/Scrap-Mods/docs/blob/main/docs/networking/Packets/02-server-info.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{title:"02 - Server Info"},sidebar:"networkingSidebar",previous:{title:"01 - Hello",permalink:"/docs/networking/Packets/hello"},next:{title:"03 - Request Passphrase",permalink:"/docs/networking/Packets/request-passphrase"}},c={},h=[{value:"Structure",id:"structure",level:2},{value:"Server Info",id:"server-info-1",level:3},{value:"Gamemode enum",id:"gamemode-enum",level:3},{value:"ModData",id:"moddata",level:3},{value:"GenericData",id:"genericdata",level:3},{value:"Flags bitfield",id:"flags-bitfield",level:3}];function x(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...e.components};return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(r.h1,{id:"server-info",children:"Server Info"}),"\n",(0,d.jsx)(r.p,{children:"This is sent by the client after being accepted by the server. It contains information about the server, such as the world seed, the current game tick, and the enabled mods."}),"\n",(0,d.jsxs)(r.ul,{children:["\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.strong,{children:"ID"}),": 0x02"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.strong,{children:"Size"}),": Variable"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.strong,{children:"LZ4 Compressed"}),": Yes"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.strong,{children:"State"}),": Joining"]}),"\n",(0,d.jsxs)(r.li,{children:[(0,d.jsx)(r.strong,{children:"Bound To"}),": Server -> Client"]}),"\n"]}),"\n",(0,d.jsx)(r.h2,{id:"structure",children:"Structure"}),"\n",(0,d.jsx)(r.h3,{id:"server-info-1",children:"Server Info"}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Field Name"}),(0,d.jsx)(r.th,{children:"Field Type"}),(0,d.jsx)(r.th,{children:"Notes"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Version"}),(0,d.jsx)(r.td,{children:"be u32"}),(0,d.jsx)(r.td,{children:"The game build number"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Gamemode"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.a,{href:"#gamemode-enum",children:"enum be u32"})}),(0,d.jsx)(r.td,{children:"Game mode identifier"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Seed"}),(0,d.jsx)(r.td,{children:"be u32"}),(0,d.jsx)(r.td,{children:"World seed"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Gametick"}),(0,d.jsx)(r.td,{children:"be u32"}),(0,d.jsx)(r.td,{children:"Current game tick"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Mod Count"}),(0,d.jsx)(r.td,{children:"be u32"}),(0,d.jsx)(r.td,{children:"Amount of enabled mods"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Mod Data"}),(0,d.jsxs)(r.td,{children:[(0,d.jsx)(r.a,{href:"#moddata",children:"ModData"}),"[Mod Count]"]}),(0,d.jsx)(r.td,{children:"A list of enabled mods"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Game Data"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.a,{href:"/docs/structures/Networking/string",children:"String"})}),(0,d.jsxs)(r.td,{children:["This JSON string is parsed and stored in the game script ",(0,d.jsx)(r.code,{children:"self.data"})]})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Script Key Count"}),(0,d.jsx)(r.td,{children:"be u32"}),(0,d.jsx)(r.td,{})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Script Data"}),(0,d.jsxs)(r.td,{children:[(0,d.jsx)(r.a,{href:"#genericdata",children:"GenericData"}),"[Script Key Count]"]}),(0,d.jsx)(r.td,{})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Generic Key Count"}),(0,d.jsx)(r.td,{children:"be u32"}),(0,d.jsx)(r.td,{})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Generic Data"}),(0,d.jsxs)(r.td,{children:[(0,d.jsx)(r.a,{href:"#genericdata",children:"GenericData"}),"[Generic Key Count]"]}),(0,d.jsx)(r.td,{})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Flags"}),(0,d.jsx)(r.td,{children:(0,d.jsx)(r.a,{href:"#flags-bitfield",children:"bitfield"})}),(0,d.jsx)(r.td,{children:"Developer mode"})]})]})]}),"\n",(0,d.jsx)(r.h3,{id:"gamemode-enum",children:"Gamemode enum"}),"\n",(0,d.jsx)(r.p,{children:"Entry size: 4 bytes"}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Value"}),(0,d.jsx)(r.th,{children:"Name"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"0"}),(0,d.jsx)(r.td,{children:"AlphaTerrain"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"1"}),(0,d.jsx)(r.td,{children:"FlatTerrain"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"2"}),(0,d.jsx)(r.td,{children:"ClassicTerrain"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"3"}),(0,d.jsx)(r.td,{children:"CreatedTerrain_Test"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"4"}),(0,d.jsx)(r.td,{children:"CreatedTerrain"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"5"}),(0,d.jsx)(r.td,{children:"Challenge"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"6"}),(0,d.jsx)(r.td,{children:"ChallengeBuilder"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"7"}),(0,d.jsx)(r.td,{children:"Terrain"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"8"}),(0,d.jsx)(r.td,{children:"Menu Creation"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"14"}),(0,d.jsx)(r.td,{children:"Survival"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"15"}),(0,d.jsx)(r.td,{children:"Custom"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"16"}),(0,d.jsx)(r.td,{children:"Development"})]})]})]}),"\n",(0,d.jsx)(r.h3,{id:"moddata",children:"ModData"}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Field Name"}),(0,d.jsx)(r.th,{children:"Field Type"}),(0,d.jsx)(r.th,{children:"Size"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"File ID"}),(0,d.jsx)(r.td,{children:"u64"}),(0,d.jsx)(r.td,{children:"8 bytes"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"UUID"}),(0,d.jsx)(r.td,{children:"byte[16]"}),(0,d.jsx)(r.td,{children:"16 bytes"})]})]})]}),"\n",(0,d.jsx)(r.h3,{id:"genericdata",children:"GenericData"}),"\n",(0,d.jsx)(r.p,{children:"Purpose is not fully known."}),"\n",(0,d.jsx)(r.admonition,{type:"note",children:(0,d.jsxs)(r.p,{children:[(0,d.jsx)(r.strong,{children:"Channel"})," field name is a guess. It is unconfirmed what this field is used for."]})}),"\n",(0,d.jsxs)(r.table,{children:[(0,d.jsx)(r.thead,{children:(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.th,{children:"Field Name"}),(0,d.jsx)(r.th,{children:"Field Type"}),(0,d.jsx)(r.th,{children:"Size"})]})}),(0,d.jsxs)(r.tbody,{children:[(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"UUID"}),(0,d.jsx)(r.td,{children:"byte[16]"}),(0,d.jsx)(r.td,{children:"16 bytes"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Size"}),(0,d.jsx)(r.td,{children:"u16"}),(0,d.jsx)(r.td,{children:"2 bytes"})]}),(0,d.jsxs)(r.tr,{children:[(0,d.jsx)(r.td,{children:"Key"}),(0,d.jsx)(r.td,{children:"u32"}),(0,d.jsx)(r.td,{children:"4 bytes"})]})]})]}),"\n",(0,d.jsx)(r.h3,{id:"flags-bitfield",children:"Flags bitfield"}),"\n",(0,d.jsx)(r.p,{children:"Contains information about which movement keys are pressed. All bits are always low while the player's character is seated or tumbling."}),"\n",(0,d.jsxs)("table",{children:[(0,d.jsx)("thead",{children:(0,d.jsxs)("tr",{children:[(0,d.jsx)("th",{children:"Bits"}),(0,d.jsx)("th",{children:"Field name"}),(0,d.jsx)("th",{children:"Notes"})]})}),(0,d.jsxs)("tbody",{children:[(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"7"}),(0,d.jsx)("td",{children:"Developer Mode"}),(0,d.jsx)("td",{children:(0,d.jsxs)(r.p,{children:["High when the Developer Mode is enabled. This is a server-side setting that can be toggled by launching with the ",(0,d.jsx)("code",{children:"-dev"})," command line argument."]})})]}),(0,d.jsxs)("tr",{children:[(0,d.jsx)("td",{children:"6"}),(0,d.jsx)("td",{rowspan:"7",children:"Unknown"}),(0,d.jsx)("td",{rowspan:"7",children:"Not known to be anything other than low."})]}),(0,d.jsx)("tr",{children:(0,d.jsx)("td",{children:"5"})}),(0,d.jsx)("tr",{children:(0,d.jsx)("td",{children:"4"})}),(0,d.jsx)("tr",{children:(0,d.jsx)("td",{children:"3"})}),(0,d.jsx)("tr",{children:(0,d.jsx)("td",{children:"2"})}),(0,d.jsx)("tr",{children:(0,d.jsx)("td",{children:"1"})}),(0,d.jsx)("tr",{children:(0,d.jsx)("td",{children:"0"})})]})]})]})}function a(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,d.jsx)(r,{...e,children:(0,d.jsx)(x,{...e})}):x(e)}},8453:(e,r,n)=>{n.d(r,{R:()=>i,x:()=>l});var d=n(6540);const s={},t=d.createContext(s);function i(e){const r=d.useContext(t);return d.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:i(e.components),d.createElement(t.Provider,{value:r},e.children)}}}]);